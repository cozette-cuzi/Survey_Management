(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9323b806"],{"26e5":function(t,e,i){},"61c5":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("loading-component",{attrs:{value:t.loading}}),i("v-snackbar",{attrs:{timeout:t.timeout,color:t.snackbarColor,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.message)+"\n  ")]),i("v-form",{ref:"form",attrs:{"lazy-validation":""}},[i("v-text-field",{attrs:{label:"Title",rules:t.fieldRules,required:""},model:{value:t.survey.title,callback:function(e){t.$set(t.survey,"title",e)},expression:"survey.title"}}),i("v-text-field",{attrs:{label:"Description",rules:t.fieldRules,required:""},model:{value:t.survey.description,callback:function(e){t.$set(t.survey,"description",e)},expression:"survey.description"}}),t._l(t.updatedQuestions,(function(e,n){return i("div",{key:n,staticClass:"mb-2",attrs:{justify:"center"}},[i("v-card",[i("v-card-title",{staticClass:"darken-0"},[i("span",{staticClass:"outline"},[t._v("Question"+t._s(n+1)+" :")])]),i("v-divider"),i("v-container",[1==e.parent_answer?i("v-text-field",{attrs:{label:"the if yes question for: "+t.survey.questions[e.parent_index].content,disabled:"",rules:t.fieldRules,required:""}}):t._e(),0==e.parent_answer?i("v-text-field",{attrs:{label:"the if no question for: "+t.survey.questions[e.parent_index].content,disabled:"",rules:t.fieldRules,required:""}}):t._e(),i("v-text-field",{attrs:{label:"Content",rules:t.fieldRules,required:""},model:{value:e.content,callback:function(i){t.$set(e,"content",i)},expression:"question.content"}}),i("v-btn",{attrs:{small:""},on:{click:function(e){return t.initializeQuestion(n,!0)}}},[t._v("if yes")]),i("v-btn",{attrs:{small:""},on:{click:function(e){return t.initializeQuestion(n,!1)}}},[t._v("if no")])],1)],1)],1)})),i("v-form-actions",[i("v-btn",{staticClass:"primary",on:{click:t.save}},[t._v(" Save ")])],1)],2)],1)},s=[],a=i("45d0"),r={name:"CreateSurvey",components:{LoadingComponent:a["a"]},computed:{updatedQuestions:function(){return this.survey.questions}},data:function(){return{loading:!1,title:"Create a Survey:",fieldRules:[function(t){return!!t||"Field is required"},function(t){return t&&t.length>=2||"Field must be grater than 2 characters"}],timeout:2e3,snackbar:!1,snackbarColor:"primary",message:"",survey:{id:null,title:null,questions:[{content:null}]}}},methods:{save:function(){var t=this;this.loading=!0,this.axios.post(this.api.ACTIONS.SURVEY,this.survey).then((function(){t.loading=!1,t.message="saved",t.snackbar=!0,t.snackbarColor="primary"})).catch((function(e){console.log(e),t.message=e.message?e.message:"Error Happend",t.snackbar=!0,t.snackbarColor="red",t.loading=!1}))},initializeQuestion:function(t,e){this.survey.questions.filter((function(i){return i.parent_answer==e&&i.parent_index==t})).length||(this.survey.questions.push({content:null,parent_answer:e,parent_index:t}),console.log(this.survey.questions))}}},o=r,u=i("2877"),l=i("6544"),c=i.n(l),d=i("8336"),f=i("b0af"),v=i("12b2"),h=i("a523"),p=i("ce7e"),m=(i("26e5"),i("94ab")),b={name:"v-form",mixins:[Object(m["b"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",(function(i){e.$set(e.errorBag,t._uid,i)}),{immediate:!0})},n={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",(function(s){s&&(e.errorBag.hasOwnProperty(t._uid)||(n.valid=i(t)))})):n.valid=i(t),n},validate:function(){var t=this.inputs.filter((function(t){return!t.validate(!0)})).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var i=this.watchers.find((function(t){return t._uid===e._uid}));i.valid&&i.valid(),i.shouldValidate&&i.shouldValidate(),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}},_=i("2db4"),g=i("2677"),y=Object(u["a"])(o,n,s,!1,null,"3c6aa993",null);e["default"]=y.exports;c()(y,{VBtn:d["a"],VCard:f["a"],VCardTitle:v["a"],VContainer:h["a"],VDivider:p["a"],VForm:b,VSnackbar:_["a"],VTextField:g["a"]})}}]);
//# sourceMappingURL=chunk-9323b806.1f617c80.js.map